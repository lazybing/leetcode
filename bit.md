# 第七章：位操作

位操作包括取反、按位或、按位异或、按位与、移位等操作。

## 7.1 位1的个数(LeetCode 191)

### 题目描述

编写一个函数，输入是一个无符号整数，返回其二进制表达式中数字位数为'1'的个数。

示例1：  
输入：00000000000000000000000000001011  
输出：3  
解释：输入的二进制串 00000000000000000000000000001011 中，共有三位为 '1'。  

示例2：  
输入：00000000000000000000000010000000  
输出：1  
解释：输入的二进制串 00000000000000000000000010000000 中，共有一位为 '1'。  

示例3：  
输入：11111111111111111111111111111101  
输出：31  
解释：输入的二进制串 11111111111111111111111111111101 中，共有 31 位为 '1'。  

### 方法一：循环和位移动

```python
class Solution:
    def hammingWeight(self, n:int)->int:
        retval = 0
        for i in range(32):
            if n & (1 << i):
                retval = retval + 1
                
        return retval
```

### 方法二：

```python
class Solution:
    def hammingWeight(self, n:int)->int:
        retval = 0
        while n:
            retval = retval + 1
            n &= (n - 1)
            
        return retval
```

## 7.2 实现加法(LeetCode 371)

### 题目描述  

不使用运算符`+`和`-`，计算两整数`a`、`b`之和。

示例1：  
输入：a = 1, b = 2  
输出：3  

示例2：  
输入：a = -2, b = 3  
输出：1  

### 解法一：

 不能使用运算符`+`和`-`，只能使用位运算来完成。两个整数 a 和 b,a ^ b是无进位的相加，a & b得到每一位的进位，将

```python
class Solution:
    def getSum(self, a:int, b:int)->int:
        
```

## 7.3 整数替换(LeetCode 397)

### 题目描述

给定一个正整数，你可以做如下操作：  
1. 如果 n 是偶数，则用n / 2 替换 n。  
2. 如果 n 是奇数，则可以用 n + 1 或 n - 1 替换 n。  
n 变为 1 所需的最小替换次数是多少？  

示例1：  
输入：8  
输出：3  
解释：8->4->2->1  

示例2：  
输入：7  
输出：4  
解释：7->8->4->2->1 或 7->6->3->2->1  

### 7.4 只出现一次的数字(LeetCode 136)

给定一个非空整数数组，除了某个元素只出现一次以外，其余每个元素均出现两次。找出那个只出现一次的元素。  

**说明**：你的算法应该具有线性时间复杂度。你可以不使用额外空间实现吗？  

示例1：  
输入：[2, 2, 1]  
输出：1  

示例2：  
输入：[4, 1, 2, 1, 2]  
输出：4  

#### 解法一：

给定一个非空整数数组，除了某个元素只出现一次外，其余每个元素均出现了三次。找到那个只出现了一次的元素。  

示例1：  
输入：[2, 2, 3, 2]  
输出：[3]  

示例2：  
输入：[0, 1, 0, 1, 0, 1, 99]  
输出：99  


